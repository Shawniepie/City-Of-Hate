#Formalize the Waterways

formalize_waterways_steelroad = {
	771 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	757 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	755 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	750 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	797 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	737 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	397 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	740 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	398 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	377 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	765 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	374 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	774 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	775 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	776 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	777 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	789 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	372 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	787 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	795 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	371 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	599 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	605 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	572 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	542 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	532 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	
	370 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	582 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	613 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	604 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	611 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	368 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	580 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	614 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	551 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	545 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	583 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	585 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	347 = {
		clr_state_flag = steel_road_state
		remove_from_array = { global.steelroadarray = THIS }
	}
	
	400 = {
		set_state_flag = steel_road_state
	}
	742 = {
		set_state_flag = steel_road_state
	}
	401 = {
		set_state_flag = steel_road_state
	}
	402 = {
		set_state_flag = steel_road_state
	}
	375 = {
		set_state_flag = steel_road_state
	}
	373 = {
		set_state_flag = steel_road_state
	}
	608 = {
		set_state_flag = steel_road_state
	}
	406 = {
		set_state_flag = steel_road_state
	}
	369 = {
		set_state_flag = steel_road_state
	}
}

#Check Steel Road

check_steel_road_change = {
	
	if = {
		limit {
			check_variable = {
				STLRD_state_control_var < 1
			}
		}
		remove_ideas = STLRD_control_1
		clear_variable = STLRD_state_control_var
	}
	if = {
		limit {
			check_variable = {
				STLRD_state_control_var > 0
				STLRD_state_control_var < 5
			}
			num_of_controlled_states > 0
		}
		swap_ideas = {
			remove_idea = STLRD_control_2
			add_idea = STLRD_control_1
		}

		remove_ideas = STLRD_control_3
		remove_ideas = STLRD_control_4
		remove_ideas = STLRD_control_5
	}
	if = {
		limit {
			check_variable = {
				STLRD_state_control_var > 4
				STLRD_state_control_var < 10
			}
		}
		swap_ideas = {
			remove_idea = STLRD_control_1
			add_idea = STLRD_control_2
		}
		remove_ideas = STLRD_control_3
		remove_ideas = STLRD_control_4
		remove_ideas = STLRD_control_5
	}
	if = {
		limit {
			check_variable = {
				STLRD_state_control_var > 9
				STLRD_state_control_var < 15
			}
		}
		swap_ideas = {
			remove_idea = STLRD_control_2
			add_idea = STLRD_control_3
		}
		remove_ideas = STLRD_control_1
		remove_ideas = STLRD_control_4
		remove_ideas = STLRD_control_5
	}
	if = {
		limit {
			check_variable = {
				STLRD_state_control_var > 14
				STLRD_state_control_var < 20
			}
		}
		swap_ideas = {
			remove_idea = STLRD_control_3
			add_idea = STLRD_control_4
		}
		remove_ideas = STLRD_control_1
		remove_ideas = STLRD_control_2
		remove_ideas = STLRD_control_5
	}
	if = {
		limit {
			check_variable = {
				STLRD_state_control_var > 19
			}
		}
		swap_ideas = {
			remove_idea = STLRD_control_4
			add_idea = STLRD_control_5
		}
		remove_ideas = STLRD_control_1
		remove_ideas = STLRD_control_2
		remove_ideas = STLRD_control_3
	}
	if = {
		limit {
			check_variable = {
				STLRD_state_control_var > 25
			}
			NOT = {
				any_other_country = {
					has_idea = STLRD_dominated
				}
			}
		}
		add_ideas = STLRD_dominated
	}
}

#Assigns random magic item to country leader

grant_magic_item_to_country_leader = {
	random_list = {
		33 = {
			add_country_leader_trait = has_magic_sword
		}
		34 = {
			add_country_leader_trait = has_magic_ring
		}
		33 = {
			add_country_leader_trait = has_magic_armour
		}
	}
}

#Assigns random magic item to commander

grant_magic_item_to_commander = {
	random_list = {
		33 = {
			add_unit_leader_trait = has_magic_sword_commander
		}
		34 = {
			add_unit_leader_trait = has_magic_ring_commander
		}
		33 = {
			add_unit_leader_trait = has_magic_armour_commander
		}
	}
}

#Sets a country's states as valid targets for Perkav raids

set_perkav_raid_target = {
	every_owned_state = {
		limit = {
			is_coastal = yes
		}
		set_state_flag = PRK_coastal_state_in_raid_range_flag
	}
}

# Increase or decrease FROM relations with THIS. Apparently these shouldn't work, and yet they do.

FROM_worsen_THIS_relations = {#Worsen Relations
	if = {
		limit = {
			THIS = {
				has_relation_modifier = {
					target = FROM
					modifier = trusted_opinion
				}
			}
		}
		THIS = {
			remove_opinion_modifier = {
				target = FROM
				modifier = trusted_opinion
			}
		}
		THIS = {
			add_opinion_modifier = {
				target = FROM
				modifier = liked_opinion
			}
		}
		THIS = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = liked_opinion
			}
		}
		FROM = {
			remove_opinion_modifier = {
				target = THIS
				modifier = trusted_opinion
			}
		}
	}

	if = {
		limit = {
			THIS = {
				has_relation_modifier = {
					target = FROM
					modifier = liked_opinion
				}
			}
		}
		THIS = {
			remove_opinion_modifier = {
				target = FROM
				modifier = liked_opinion
			}
		}
		THIS = {
			add_opinion_modifier = {
				target = FROM
				modifier = supportive_opinion
			}
		}
		THIS = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = supportive_opinion
			}
		}
		FROM = {
			remove_opinion_modifier = {
				target = THIS
				modifier = liked_opinion
			}
		}
	}

	if = {
		limit = {
			THIS = {
				has_relation_modifier = {
					target = FROM
					modifier = supportive_opinion
				}
			}
		}
		THIS = {
			remove_opinion_modifier = {
				target = FROM
				modifier = supportive_opinion
			}
		}
		FROM = {
			remove_opinion_modifier = {
				target = THIS
				modifier = supportive_opinion
			}
		}
	}

	if = {
		limit = {
			THIS = {
				NOT = {
					has_relation_modifier = {
						target = FROM
						modifier = trusted_opinion
					}
					has_relation_modifier = {
						target = FROM
						modifier = supportive_opinion
					}
					has_relation_modifier = {
						target = FROM
						modifier = liked_opinion
					}
					has_relation_modifier = {
						target = FROM
						modifier = annoyed_opinion
					}
					has_relation_modifier = {
						target = FROM
						modifier = dislike_opinion
					}
					has_relation_modifier = {
						target = FROM
						modifier = threatened_opinion
					}
				}
			}
		}
		THIS = {
			add_opinion_modifier = {
				target = FROM
				modifier = annoyed_opinion
			}
		}
		THIS = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = annoyed_opinion
			}
		}
	}

	if = {
		limit = {
			THIS = {
				has_relation_modifier = {
					target = FROM
					modifier = annoyed_opinion
				}
			}
		}
		THIS = {
			remove_opinion_modifier = {
				target = FROM
				modifier = annoyed_opinion
			}
		}
		FROM = {
			remove_opinion_modifier = {
				target = THIS
				modifier = annoyed_opinion
			}
		}
		THIS = {
			add_opinion_modifier = {
				target = FROM
				modifier = dislike_opinion
			}
		}
		THIS = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = dislike_opinion
			}
		}
	}

	if = {
		limit = {
			THIS = {
				has_relation_modifier = {
					target = FROM
					modifier = dislike_opinion
				}
			}
		}
		THIS = {
			remove_opinion_modifier = {
				target = FROM
				modifier = dislike_opinion
			}
		}
		FROM = {
			remove_opinion_modifier = {
				target = THIS
				modifier = dislike_opinion
			}
		}
		
		THIS = {
			add_opinion_modifier = {
				target = FROM
				modifier = threatened_opinion
			}
		}
		THIS = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = threatened_opinion
			}
		}
	}
}

FROM_improve_THIS_relations = {#Improve relations
	if = {
		limit = {
			THIS = {
				has_relation_modifier = {
					target = FROM
					modifier = threatened_opinion
				}
			}
		}
		THIS = {
			remove_opinion_modifier = {
				target = FROM
				modifier = threatened_opinion
			}
		}
		THIS = {
			add_opinion_modifier = {
				target = FROM
				modifier = dislike_opinion
			}
		}
		THIS = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = dislike_opinion
			}
		}
		FROM = {
			remove_opinion_modifier = {
				target = THIS
				modifier = threatened_opinion
			}
		}
	}

	if = {
		limit = {
			THIS = {
				has_relation_modifier = {
					target = FROM
					modifier = dislike_opinion
				}
			}
		}
		THIS = {
			remove_opinion_modifier = {
				target = FROM
				modifier = dislike_opinion
			}
		}
		THIS = {
			add_opinion_modifier = {
				target = FROM
				modifier = annoyed_opinion
			}
		}
		THIS = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = annoyed_opinion
			}
		}
		FROM = {
			remove_opinion_modifier = {
				target = THIS
				modifier = dislike_opinion
			}
		}
	}

	if = {
		limit = {
			THIS = {
				has_relation_modifier = {
					target = FROM
					modifier = annoyed_opinion
				}
			}
		}
		THIS = {
			remove_opinion_modifier = {
				target = FROM
				modifier = annoyed_opinion
			}
		}
		FROM = {
			remove_opinion_modifier = {
				target = THIS
				modifier = annoyed_opinion
			}
		}
	}

	if = {
		limit = {
			THIS = {
				NOT = {
					has_relation_modifier = {
						target = FROM
						modifier = trusted_opinion
					}
					has_relation_modifier = {
						target = FROM
						modifier = supportive_opinion
					}
					has_relation_modifier = {
						target = FROM
						modifier = liked_opinion
					}
					has_relation_modifier = {
						target = FROM
						modifier = annoyed_opinion
					}
					has_relation_modifier = {
						target = FROM
						modifier = dislike_opinion
					}
					has_relation_modifier = {
						target = FROM
						modifier = threatened_opinion
					}
				}
			}
		}
		THIS = {
			add_opinion_modifier = {
				target = FROM
				modifier = supportive_opinion
			}
		}
		THIS = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = supportive_opinion
			}
		}
	}

	if = {
		limit = {
			THIS = {
				has_relation_modifier = {
					target = FROM
					modifier = supportive_opinion
				}
			}
		}
		THIS = {
			remove_opinion_modifier = {
				target = FROM
				modifier = supportive_opinion
			}
		}
		FROM = {
			remove_opinion_modifier = {
				target = THIS
				modifier = supportive_opinion
			}
		}
		THIS = {
			add_opinion_modifier = {
				target = FROM
				modifier = liked_opinion
			}
		}
		THIS = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = liked_opinion
			}
		}
	}

	if = {
		limit = {
			THIS = {
				has_relation_modifier = {
					target = FROM
					modifier = liked_opinion
				}
			}
		}
		THIS = {
			remove_opinion_modifier = {
				target = FROM
				modifier = liked_opinion
			}
		}
		FROM = {
			remove_opinion_modifier = {
				target = THIS
				modifier = liked_opinion
			}
		}
		
		THIS = {
			add_opinion_modifier = {
				target = FROM
				modifier = trusted_opinion
			}
		}
		THIS = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = trusted_opinion
			}
		}
	}
}


#Set the Steel Road States

set_steel_road = {

	585 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	583 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	545 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	551 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	614 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	580 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	368 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	611 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	604 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	613 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	582 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	370 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	532 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	542 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	572 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	605 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	599 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	371 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	795 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	787 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	372 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	789 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	777 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	776 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	775 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	774 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	374 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	765 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	377 = {
		set_state_flag = steel_road_state
		add_to_array = { TLA.steelroadarray = THIS }
	}
	398 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	740 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	397 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	737 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	797 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	396 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	750 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	755 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	757 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	753 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	386 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	830 = {
		set_state_flag = steel_road_state
		add_to_array = { BLD.steelroadarray = THIS }
	}
	829 = {
		set_state_flag = steel_road_state
		add_to_array = { BLD.steelroadarray = THIS }
	}
	761 = {
		set_state_flag = steel_road_state
		add_to_array = { BLD.steelroadarray = THIS }
	}
	771 = {
		set_state_flag = steel_road_state
		add_to_array = { BLD.steelroadarray = THIS }
	}
	385 = {
		set_state_flag = steel_road_state
		add_to_array = { BLD.steelroadarray = THIS }
	}
	711 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	710 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	382 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	721 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	722 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	733 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	720 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	383 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	716 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	718 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	730 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	731 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	384 = {
		set_state_flag = steel_road_state
		add_to_array = { RMT.steelroadarray = THIS }
	}
	399 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	406 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	540 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	529 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	537 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	576 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	369 = {
		set_state_flag = steel_road_state
		add_to_array = { BER.steelroadarray = THIS }
	}
	400 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	742 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	401 = {
		set_state_flag = steel_road_state
		add_to_array = { IRI.steelroadarray = THIS }
	}
	233 = {
		set_state_flag = steel_road_state
		add_to_array = { UNG.steelroadarray = THIS }
	}
	249 = {
		set_state_flag = steel_road_state
		add_to_array = { UNG.steelroadarray = THIS }
	}
	328 = {
		set_state_flag = steel_road_state
		add_to_array = { UNG.steelroadarray = THIS }
	}
	342 = {
		set_state_flag = steel_road_state
		add_to_array = { UNG.steelroadarray = THIS }
	}
	357 = {
		set_state_flag = steel_road_state
		add_to_array = { WIS.steelroadarray = THIS }
	}
	361 = {
		set_state_flag = steel_road_state
		add_to_array = { WIS.steelroadarray = THIS }
	}
	347 = {
		set_state_flag = steel_road_state
		add_to_array = { FTH.steelroadarray = THIS }
	}
	356 = {
		set_state_flag = steel_road_state
		add_to_array = { FTH.steelroadarray = THIS }
	}
	339 = {
		set_state_flag = steel_road_state
		add_to_array = { FTH.steelroadarray = THIS }
	}
	345 = {
		set_state_flag = steel_road_state
		add_to_array = { FTH.steelroadarray = THIS }
	}
	236 = {
		set_state_flag = steel_road_state
		add_to_array = { FTH.steelroadarray = THIS }
	}
	UNG = {
		set_variable = {
			var = STLRD_state_control_var
			value = 4
		}
		add_ideas = STLRD_control_1
	}
	WIS = {
		set_variable = {
			var = STLRD_state_control_var
			value = 2
		}
		add_ideas = STLRD_control_1
	}
	FTH = {
		set_variable = {
			var = STLRD_state_control_var
			value = 15 #Actually 5, but punching above their weight
		}
		add_ideas = STLRD_control_3
	}
	BER = {
		set_variable = {
			var = STLRD_state_control_var
			value = 23
		}
		add_ideas = STLRD_control_4
	}
	TLA = {
		set_variable = {
			var = STLRD_state_control_var
			value = 2 #12 States, but being bypassed
		}
		add_ideas = STLRD_control_1
	}
	IRI = {
		set_variable = {
			var = STLRD_state_control_var
			value = 15
		}
		add_ideas = STLRD_control_3
	}
	BLD = {
		set_variable = {
			var = STLRD_state_control_var
			value = 3 #Actually 5, but not able to capitalize on it
		}
		add_ideas = STLRD_control_1
	}
	RMT = {
		set_variable = {
			var = STLRD_state_control_var
			value = 24 #Actually 13, but they own the source
		}
		add_ideas = STLRD_control_4
	}
}

#Unification of the Union

unite_the_union = {
	every_state = {
		limit = {
			is_owned_by = ROOT
		}
		UNG = {
			transfer_state = PREV
		}
	}
	every_state = {
		limit = {
			OR = {
				is_core_of = HLZ
				is_core_of = NOC
				is_core_of = SVT
				is_core_of = STA
				is_core_of = SPW
				is_core_of = TEI
				is_core_of = FAU
				is_core_of = NRK
				is_core_of = SNF
				is_core_of = ARK
				is_core_of = WIS
				is_core_of = WSZ
				is_core_of = FTH
				is_core_of = UNG
			}
		}
		remove_core_of = HLZ
		remove_core_of = NOC
		remove_core_of = SVT
		remove_core_of = STA
		remove_core_of = SPW
		remove_core_of = TEI
		remove_core_of = FAU
		remove_core_of = NRK
		remove_core_of = SNF
		remove_core_of = ARK
		remove_core_of = WIS
		remove_core_of = WSZ
		remove_core_of = FTH
		add_core_of = UNG
	}
}

#Reunification of Ordoria
#reunify_ordoria = {
#	every_state = {
#		limit = {
#			is_owned_by = ROOT
#		}
#		ORD = {
#			transfer_state = PREV
#		}
#	}
#	every_state = {
#		limit = {
#			OR = {
#	


#Sets up the tribal territories in Perkavland

set_prk_tribal_ter = {
	#Western Alliance
	621 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	630 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	650 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	631 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	649 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	648 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	645 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	652 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	651 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	417 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	640 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	641 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	416 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	642 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	629 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	418 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	622 = {
	set_state_flag = PRK_tribal_territory_krz
	}
	#
	#Southern Dominion
	#
	646 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	639 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	415 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	626 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	643 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	633 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	638 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	637 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	419 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	636 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	628 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	655 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	627 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	644 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	634 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	635 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	421 = {
	set_state_flag = PRK_tribal_territory_wlt
	}
	#
	#Druidic Circles
	#
	414 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	653 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	654 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	647 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	646 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	639 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	415 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	626 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	643 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	633 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	638 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	637 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	419 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	636 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	628 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	655 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	627 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	644 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	634 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	635 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	421 = {
	set_state_flag = PRK_tribal_territory_vtz
	}
	#
	#Pirate-Raiders
	#
	623 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	620 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	420 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	619 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	621 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	630 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	650 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	631 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	649 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	648 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	645 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	652 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	651 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	417 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	640 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	641 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	416 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	642 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	629 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	418 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	622 = {
	set_state_flag = PRK_tribal_territory_vln
	}
	}